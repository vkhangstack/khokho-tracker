(this["webpackJsonpdaily-sleep-tracker"]=this["webpackJsonpdaily-sleep-tracker"]||[]).push([[0],{125:function(e,t,a){},126:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(13),l=a.n(s),c=(a(80),a(81),a(11)),o=a(10),i=(a(82),a(30)),d=a(5),x=a(9),u=a(68),b=(a(83),a(127),u.a.initializeApp({apiKey:"AIzaSyAMqV783EmpOYBWCOZvxsIC0j3O6tLYHFQ",authDomain:"khokho-tracker-1809.firebaseapp.com",projectId:"khokho-tracker-1809",storageBucket:"khokho-tracker-1809.appspot.com",messagingSenderId:"1036883845096",appId:"1:1036883845096:web:88294c537a0484ff984e5d",measurementId:"G-60SD6JQSB8"})),h=a(3),m=r.a.createContext(),j=function(e){var t=e.children,a=Object(n.useState)(null),r=Object(c.a)(a,2),s=r[0],l=r[1];return Object(n.useEffect)((function(){b.auth().onAuthStateChanged(l)}),[]),Object(h.jsx)(m.Provider,{value:{currentUser:s},children:t})};a(86);function p(){var e=Object(n.useState)(localStorage.theme),t=Object(c.a)(e,2),a=t[0],r=t[1],s="dark"===a?"light":"dark";return Object(n.useEffect)((function(){var e=window.document.documentElement;e.classList.remove(s),e.classList.add(a),localStorage.setItem("theme",a)}),[a,s]),[s,r]}var g=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],r=t[1],s=p(),l=Object(c.a)(s,2),o=l[0],i=l[1],d=Object(n.useContext)(m).currentUser;return Object(n.useEffect)((function(){d&&(document.getElementById("login").classList.add("hidden"),document.getElementById("signup").classList.add("hidden"),document.getElementById("newEntry").classList.remove("hidden"),document.getElementById("logout").classList.remove("hidden"))}),[d]),Object(h.jsxs)("nav",{className:"bg-gray-400 bg-opacity-60 dark:bg-opacity-80 dark:bg-gray-800 transition-all duration-500",children:[Object(h.jsx)("div",{className:"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8",children:Object(h.jsxs)("div",{className:"relative flex items-center justify-between h-16",children:[Object(h.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center sm:hidden",children:Object(h.jsxs)("button",{onClick:function(){return r(!a)},id:"hamburgerMenu",type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-gray-600 dark:text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",children:[Object(h.jsx)("span",{className:"sr-only",children:"Open main menu"}),Object(h.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})}),Object(h.jsx)("svg",{className:"hidden h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})}),Object(h.jsx)("div",{className:"flex-1 flex items-center justify-center sm:items-stretch sm:justify-start",children:Object(h.jsx)("div",{className:"hidden sm:block sm:ml-6",children:Object(h.jsxs)("div",{className:"flex space-x-4",children:[Object(h.jsx)(x.c,{to:d?"/dashboard":"/",className:"".concat(window.location.href.includes("dashboard")?"bg-gray-500 text-white":"text-gray-500 dark:text-gray-300"," hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-all duration-500"),"aria-current":"page",children:d?"Dashboard":"Home"}),Object(h.jsx)(x.c,{to:"/about",className:" ".concat(window.location.href.includes("about")?"bg-gray-500 text-white":"text-gray-500 dark:text-gray-300"," hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-all duration-500"),children:"About"}),Object(h.jsx)(x.c,{to:d?"/entries":"/",className:" ".concat(window.location.href.includes("entries")?"bg-gray-500 text-white":"text-gray-500 dark:text-gray-300"," hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-all duration-500 ").concat(d?"block":"hidden"),children:"Entries"})]})})}),Object(h.jsxs)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0",children:[Object(h.jsx)("span",{onClick:function(){return i(o)},className:"mr-5 bg-yellow-300 hover:bg-yellow-400 dark:bg-gray-300 dark:hover:bg-gray-400 cursor-pointer rounded-md p-1 transition-all duration-500",children:"light"===o?Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:Object(h.jsx)("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})}):Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),Object(h.jsx)(x.c,{to:"/login",id:"login",className:"bg-gray-500 dark:bg-gray-900 text-white px-3 hover:bg-gray-900 py-2 rounded-md text-sm font-medium mr-3 transition duration-500","aria-current":"page",children:"Sign In"}),Object(h.jsx)(x.c,{to:"/signup",id:"signup",className:"hidden bg-yellow-600 text-white px-3 hover:bg-yellow-700 py-2 rounded-md text-sm font-medium","aria-current":"page",children:"Sign Up"}),Object(h.jsxs)(x.c,{to:"/entries",id:"newEntry",className:"bg-yellow-600 text-white px-3 hover:bg-yellow-700 flex py-2 rounded-md text-sm font-medium hidden mr-3 transition duration-500","aria-current":"page",children:["light"===o?Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:Object(h.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})}):Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),"New Entry"]}),Object(h.jsx)("button",{onClick:function(){b.auth().signOut(),window.location.href="/"},id:"logout",className:"bg-gray-500 dark:bg-gray-900 text-white px-3 hover:bg-gray-900 py-2 rounded-md text-sm font-medium transition duration-500 hidden","aria-current":"page",children:"Logout"})]})]})}),Object(h.jsx)("div",{id:"mobile-menu",className:"transition-all duration-200 ".concat(a?"visible h-auto opacity-100":"invisible h-0 opacity-0"),children:Object(h.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[Object(h.jsx)(x.c,{to:d?"/dashboard":"/",href:"#",className:"".concat(window.location.href.includes("dashboard")?"bg-gray-300 dark:bg-gray-700 dark:text-white":"text-gray-700 dark:text-gray-300"," block px-3 py-2 rounded-md text-base font-medium"),"aria-current":"page",children:d?"Dashboard":"Home"}),Object(h.jsx)(x.c,{to:"/about",className:"".concat(window.location.href.includes("about")?"bg-gray-300 dark:bg-gray-700 dark:text-white":"text-gray-700 dark:text-gray-300"," block px-3 py-2 rounded-md text-base font-medium"),children:"About"}),Object(h.jsx)(x.c,{to:d?"/entries":"/",className:"".concat(window.location.href.includes("entries")?"bg-gray-300 dark:bg-gray-700 dark:text-white":"text-gray-700 dark:text-gray-300"," block px-3 py-2 rounded-md text-base font-medium ").concat(d?"block":"hidden"),children:"Entries"})]})})]})};var y=function(){return Object(h.jsx)("footer",{className:"".concat((window.location.href.includes("login")||window.location.href.includes("signup"),"relative")," ").concat(window.location.href.includes("entries")?"hidden":"block"," md:relative lg:absolute bottom-0 w-full mt-auto py-3 bg-gray-400 bg-opacity-60 dark:bg-opacity-80 dark:bg-gray-800 transition-all duration-500 text-center"),children:Object(h.jsx)("p",{className:"font-bold text-black dark:text-gray-300",children:"Coder By Pham Van Khang \xa9 2021"})})};var O=function(){var e=Object(n.useContext)(m).currentUser,t=Object(n.useRef)(null),a=Object(n.useState)(localStorage.theme),r=Object(c.a)(a,2),s=r[0],l=r[1];return Object(n.useEffect)((function(){l(localStorage.theme)}),[s]),Object(n.useEffect)((function(){i.a.to(t,1,{opacity:1,y:-50,ease:d.b.easeOut})}),[]),e?(console.log(e),Object(h.jsx)(o.a,{to:"/dashboard"})):Object(h.jsxs)("div",{id:"background",className:"h-full md:h-screen transition-all duration-500 splash-screen dark:splash-screen-dark",children:[Object(h.jsx)(g,{}),Object(h.jsx)("div",{className:"jumbotron text-center py-44 lg:py-72 transition-all duration-500",children:Object(h.jsxs)("div",{ref:function(e){t=e},children:[Object(h.jsx)("h1",{className:"text-6xl text-black dark:text-yellow-400 font-bold transition-all duration-500",children:"KhoKho Tracker"}),Object(h.jsx)("p",{className:"text-2xl p-6 text-black dark:text-white font-bold transition-all duration-500",children:"Create an account and track your daily sleep"}),Object(h.jsx)(x.c,{to:"/signup",className:"bg-gray-700 hover:bg-gray-800 dark:bg-yellow-400 text-white dark:hover:bg-yellow-500 dark:text-black font-bold py-2 px-5 rounded mb-32 transition-all duration-500",children:"Sign up now"})]})}),Object(h.jsx)(y,{})]})},f=a(29),w=a.n(f),k=a(39),v=(a(92),Object(o.f)((function(e){var t=e.history;p();var a=Object(n.useCallback)(function(){var e=Object(k.a)(w.a.mark((function e(a){var n,r,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=a.target.elements,r=n.email,s=n.password,e.prev=2,e.next=5,b.auth().createUserWithEmailAndPassword(r.value,s.value);case 5:t.push("/dashboard"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(h.jsxs)("div",{id:"background",className:"h-screen bg-gray-100 dark:bg-gray-900 transition duration-500 splash-screen dark:splash-screen-dark",children:[Object(h.jsx)(g,{}),Object(h.jsx)("div",{className:"mx-auto text-center align-middle w-min pt-32 flex",children:Object(h.jsxs)("div",{className:"p-10 lg:p-24 bg-gray-200 dark:bg-gray-700 transition duration-500 w-m rounded",children:[Object(h.jsxs)("h1",{className:"text-5xl text-black dark:text-yellow-500 font-bold mb-5 transition duration-500",children:[Object(h.jsx)("span",{className:"text-yellow-500 dark:text-white transition duration-500",children:"KhoKho"})," ","Tracker"]}),Object(h.jsxs)("form",{onSubmit:a,children:[Object(h.jsx)("input",{className:"input-email font-bold placeholder-yellow-500 bg-gray-600 text-black dark:text-white w-60 rounded my-5 text-center",name:"email",type:"email",placeholder:"Email"}),Object(h.jsx)("input",{className:"input-password font-bold placeholder-yellow-500 text-black dark:text-white w-60 rounded text-center mb-10",name:"password",type:"password",placeholder:"Password"}),Object(h.jsx)("button",{className:"font-bold bg-yellow-400 hover:bg-yellow-500 w-60 p-2 rounded transition-all duration-300",type:"submit",children:"Sign Up"}),Object(h.jsxs)("p",{className:"mt-5 px-5 font-bold text-black dark:text-white transition duration-500",children:["Already have an account?"," ",Object(h.jsx)(x.c,{to:"/login",className:"text-yellow-500 cursor-pointer",children:"Log In"})]})]})]})}),Object(h.jsx)(y,{})]})}))),N=(a(93),Object(o.f)((function(e){var t=e.history;p();var a=Object(n.useCallback)(function(){var e=Object(k.a)(w.a.mark((function e(a){var n,r,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=a.target.elements,r=n.email,s=n.password,e.prev=2,e.next=5,b.auth().signInWithEmailAndPassword(r.value,s.value);case 5:t.push("/dashboard"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(n.useContext)(m).currentUser?Object(h.jsx)(o.a,{to:"/dashboard"}):Object(h.jsxs)("div",{id:"background",className:"h-screen bg-gray-100 dark:bg-gray-900 transition duration-500 splash-screen dark:splash-screen-dark",children:[Object(h.jsx)(g,{}),Object(h.jsx)("div",{className:"mx-auto text-center align-middle w-min pt-32 flex",children:Object(h.jsxs)("div",{className:"p-10 lg:p-24 bg-gray-200 dark:bg-gray-700 transition duration-500 rounded",children:[Object(h.jsxs)("h1",{className:"text-5xl text-black dark:text-yellow-500 font-bold mb-5 transition-all duration-500",children:[Object(h.jsx)("span",{className:"text-yellow-500 dark:text-white transition-all duration-500",children:"KhoKho"})," ","Tracker"]}),Object(h.jsxs)("form",{onSubmit:a,children:[Object(h.jsx)("input",{className:"input-email font-bold placeholder-yellow-500 bg-gray-600 text-black dark:text-white w-60 rounded my-5 text-center",name:"email",type:"email",placeholder:"Email"}),Object(h.jsx)("input",{className:"input-password font-bold placeholder-yellow-500 text-black dark:text-white w-60 rounded text-center mb-10",name:"password",type:"password",placeholder:"Password"}),Object(h.jsx)("button",{className:"font-bold bg-yellow-400 hover:bg-yellow-500 w-60 p-2 rounded transition-all duration-300",type:"submit",children:"Log in"}),Object(h.jsxs)("p",{className:"mt-5 font-bold text-black dark:text-white transition duration-500",children:["Don't have an account?"," ",Object(h.jsx)(x.c,{to:"/signup",className:"text-yellow-500 cursor-pointer",children:"Sign Up"})]})]})]})}),Object(h.jsx)(y,{})]})}))),S=a(157),E=(a(94),a(158)),C=a(69),I=a.n(C),L=a(34),D=a.n(L);function B(){var e=Object(n.useContext)(m).currentUser,t=e?e.uid:null,a=Object(n.useState)(!1),r=Object(c.a)(a,2),s=r[0],l=r[1],o=Object(n.useState)(""),i=Object(c.a)(o,2),d=i[0],x=i[1],u=Object(n.useState)(""),j=Object(c.a)(u,2),O=j[0],f=j[1],w=Object(n.useState)(""),k=Object(c.a)(w,2),v=k[0],N=k[1],C=Object(n.useState)([]),L=Object(c.a)(C,2),B=L[0],T=L[1],M=b.firestore().collection("sleepData");function A(e,t,a){var n=parseInt(new Date("01/01/2007 "+e).getTime()),r=(parseInt(new Date("01/01/2007 "+t).getTime())-n)/6e4/60;r<0&&(r=24+r);var s=I.a.duration(r,"hours"),l="".concat(s._data.hours<10?"0"+s._data.hours:s._data.hours,":").concat(s._data.minutes<10?"0"+s._data.minutes:s._data.minutes);return M.doc(a.id).update({totalSlept:l}).catch((function(){alert("Ohh No")})),l}return Object(n.useEffect)((function(){M.where("owner","==",t).orderBy("sleepDate","desc").orderBy("asleepTime","desc").limit(12).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),T(t)}))}),[]),p(),Object(h.jsxs)("div",{id:"background",className:"bg-gray-100 dark:bg-gray-900 splash-screen dark:splash-screen-dark transition duration-500 ".concat(!s&&B.length<5?"h-screen":"h-full"," md:h-screen"),children:[Object(h.jsx)(g,{}),Object(h.jsx)("h1",{className:"text-3xl text-center font-bold text-black dark:text-white mt-10 mb-5 transition duration-500",children:0!==B.length?"Your Sleep Entries":"You haven't added any entries yet, you can add one by clicking the button below"}),Object(h.jsxs)("div",{className:"".concat(B.length<1?"":"grid grid-cols-none md:grid-cols-2 mt-12"),children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"flex justify-center",children:Object(h.jsxs)("button",{onClick:function(){l(!s)},type:"button",className:"bg-yellow-500 hover:bg-yellow-600 px-10 py-6 font-bold text-black dark:text-gray-200 text-2xl my-10 rounded-full flex transition duration-500",children:[Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mr-2 my-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),"New Entry"]})}),Object(h.jsx)("div",{className:s?"block":"hidden",children:Object(h.jsx)("div",{className:"p-10 lg:p-24 bg-gray-200 dark:bg-gray-700 transition duration-500 rounded w-min mx-auto",children:Object(h.jsx)("div",{className:"mx-auto text-center align-middle w-64",children:Object(h.jsxs)("div",{children:[Object(h.jsxs)("label",{htmlFor:"date",className:"font-bold text-black dark:text-white transition duration-500",children:[" ","Select the date",Object(h.jsx)(S.a,{id:"date",type:"date",className:"w-60",onChange:function(e){x(e.target.value)},required:!0})]}),Object(h.jsxs)("label",{htmlFor:"asleepTime",className:"font-bold text-black dark:text-white transition duration-500",children:[" ","What time did you fall asleep?",Object(h.jsx)(S.a,{id:"asleep",type:"time",className:"w-60",onChange:function(e){f(e.target.value)},required:!0})]}),Object(h.jsxs)("label",{htmlFor:"wakeupTime",className:"font-bold text-black dark:text-white transition duration-500",children:[" ","What time did you wake up?",Object(h.jsx)(S.a,{id:"wakeup",type:"time",className:"w-60",onChange:function(e){N(e.target.value)},required:!0})]}),Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsx)("button",{onClick:function(){return function(){var e=document.getElementById("date"),t=document.getElementById("asleep"),a=document.getElementById("wakeup");e.value=(new Date).toISOString().slice(0,10),t.value="22:00",a.value="06:00",x(""),f(""),N("")}()},className:"font-bold bg-gray-300 dark:bg-gray-500 m-auto px-5 hover:bg-gray-400 dark:hover:bg-gray-600 py-2 rounded transition-all duration-300",children:"Reset"}),Object(h.jsx)("button",{onClick:function(){return function(){var t=e?e.uid:"unknown",a=e?e.email:"unknown",n={sleepDate:d,asleepTime:O,wakeupTime:v,id:Object(E.a)(),owner:t,ownerEmail:a,createdAt:(new Date).toLocaleDateString()};""===d?D.a.fire({icon:"error",title:"Oops...",text:"Enter the sleep date"}):""===O?D.a.fire({icon:"error",title:"Oops...",text:"Enter the time you went to sleep"}):""===v?D.a.fire({icon:"error",title:"Oops...",text:"Enter the time you woke up"}):(M.doc(n.id).set(n).catch((function(e){console.error(e)})),D.a.fire({icon:"success",title:"Success",text:"Your sleep entry has been added"}))}()},className:"font-bold bg-yellow-400 m-auto px-4 hover:bg-yellow-500 py-2 rounded transition-all duration-300",children:"Submit"})]})]})})})})]}),Object(h.jsxs)("div",{className:"totalArray text-xs md:text-lg text-black dark:text-white bg-gray-200 dark:bg-yellow-600 transition duration-500 rounded md:rounded-full justify-center",children:[" -- ","Only Show: ",B.length," items"," -- "]}),Object(h.jsx)("div",{className:"mx-10 mt-8 text-center",children:B.map((function(e){return Object(h.jsxs)("div",{className:"flex text-xs md:text-lg text-black dark:text-white justify-center bg-gray-200 dark:bg-yellow-600 w-full py-2 my-3 mx-auto opacity-90 transition duration-500 rounded md:rounded-full overflow-auto",children:[Object(h.jsx)("h1",{className:"mx-2 lg:mx-5 my-auto",children:Object(h.jsx)("span",{className:"font-bold",children:e.sleepDate})}),Object(h.jsxs)("h1",{className:"mx-2 lg:mx-5",children:["Asleep time:"," ",Object(h.jsx)("span",{className:"font-bold",children:e.asleepTime})]}),Object(h.jsxs)("h1",{className:"mx-2 lg:mx-5",children:["Wakeup time:"," ",Object(h.jsx)("span",{className:"font-bold",children:e.wakeupTime})]}),Object(h.jsx)("h1",{className:"mx-2 lg:mx-5",children:Object(h.jsxs)("span",{className:"font-bold",children:[A(e.asleepTime,e.wakeupTime,e)," Hours Slept"]})}),Object(h.jsx)("span",{className:"cursor-pointer my-auto hover:text-red-600 mr-2",onClick:function(){var t;t=e,M.doc(t.id).delete().catch((function(e){console.error(e)}))},children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},e.id)}))})]}),Object(h.jsx)(y,{})]})}a(106);var T=a(27);a(125);var M=function(){var e=Object(n.useContext)(m).currentUser,t=e?e.uid:null,a=Object(n.useState)([]),r=Object(c.a)(a,2),s=r[0],l=r[1],o=Object(n.useState)(0),i=Object(c.a)(o,2),d=i[0],u=i[1],j=Object(n.useState)(0),p=Object(c.a)(j,2),O=p[0],f=p[1],w=Object(n.useState)(0),k=Object(c.a)(w,2),v=k[0],N=k[1],S=Object(n.useState)(0),E=Object(c.a)(S,2),C=E[0],I=E[1],L=b.firestore().collection("sleepData");function D(){for(var e=0,t=[],a=[],n=[],r=0;r<s.length;r++){var l=s[r].totalSlept.split(/[.:]/);e+=parseInt(l[0],10)+(l[1]?parseInt(l[1],10):0)/60}u(Math.round(e/s.length*10)/10),s.map((function(e){return parseInt(e.totalSlept)<6?t.push(parseInt(e.totalSlept)):parseInt(e.totalSlept)>8?a.push(parseInt(e.totalSlept)):n.push(parseInt(e.totalSlept))})),f(t.length),N(a.length),I(n.length)}return Object(n.useEffect)((function(){L.where("owner","==",t).orderBy("sleepDate","desc").orderBy("asleepTime","desc").limit(30).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),l(t)})),D()}),[D]),s.length>0?Object(h.jsxs)("div",{className:"h-full md:h-screen splash-screen dark:splash-screen-dark transition duration-500",children:[Object(h.jsx)(g,{}),Object(h.jsx)("div",{className:"text-center",children:Object(h.jsx)("h1",{className:"font-bold text-3xl lg:text-5xl my-8 text-black dark:text-white transition-all duration-500",children:"Your Dashboard"})}),Object(h.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 mx-10 my-12 md:my-0 lg:my-24 relative",children:[Object(h.jsxs)("div",{className:"dashboard-container w-full lg:w-4/5 justify-center text-center my-5 mx-auto bg-gray-400 dark:bg-gray-700 text-black dark:text-white opacity-80 pb-16 pt-5 px-5 rounded-md transition-all duration-500",children:[Object(h.jsx)("h1",{className:"text-3xl font-bold mb-3 text-black dark:text-yellow-500 transition-all duration-500",children:"Graph"}),Object(h.jsxs)(T.a,{className:"mx-auto",xType:"time",yDomain:[1,24],stroke:"orange",children:[Object(h.jsx)(T.e,{style:{fontSize:10,fontWeight:"bold",fill:"".concat(document.documentElement.classList.contains("dark")?"white":"black")}}),Object(h.jsx)(T.f,{style:{fontSize:12,fontWeight:"bold",fill:"".concat(document.documentElement.classList.contains("dark")?"white":"black")}}),Object(h.jsx)(T.d,{}),Object(h.jsx)(T.b,{}),Object(h.jsx)(T.c,{data:s.map((function(e){return{x:new Date(e.sleepDate),y:parseInt(e.totalSlept)}})),style:{strokeWidth:3}})]})]}),Object(h.jsx)("div",{className:"text-center justify-center m-5 w-full mx-auto",children:Object(h.jsxs)("div",{className:"bg-gray-400 dark:bg-gray-700 opacity-80 rounded-lg py-5 text-black dark:text-white transition-all duration-500",style:{height:500},children:[Object(h.jsx)("h1",{className:"text-3xl font-bold mb-3 text-black dark:text-yellow-500 transition-all duration-500",children:"Stats"}),Object(h.jsxs)("h1",{className:"text-xxs md:text-xl font-bold my-5",children:["Average sleep time: ",Object(h.jsx)("br",{})," ",Object(h.jsxs)("span",{className:"text-yellow-400 text-3xl",children:[d," Hours"]})]}),Object(h.jsxs)("h1",{className:"text-xxs md:text-xl font-bold my-5",children:["Days with good sleep time: ",Object(h.jsx)("br",{}),Object(h.jsx)("span",{className:"text-yellow-400 text-3xl",children:C})]}),Object(h.jsxs)("h1",{className:"text-xxs md:text-xl font-bold my-5",children:["Days with less than 6 hours sleep: ",Object(h.jsx)("br",{}),Object(h.jsx)("span",{className:"text-yellow-400 text-3xl",children:O})]}),Object(h.jsxs)("h1",{className:"text-xxs md:text-xl font-bold my-5",children:["Days with more than 8 hours sleep: ",Object(h.jsx)("br",{}),Object(h.jsx)("span",{className:"text-yellow-400 text-3xl",children:v})]}),Object(h.jsx)("h1",{className:"text-sm  md:text-xs lg:text-xl font-bold mt-10 mx-5",children:d<6?"You should sleep more. Healthy adults need between 6 and 8 hours of sleep":d>8?"You sleep too much. Healthy adults need between 6 and 8 hours of sleep":"You are having the recommended amount of sleep. \n Keep it up!"})]})})]}),Object(h.jsx)(y,{})]}):Object(h.jsxs)("div",{className:"h-full md:h-screen splash-screen dark:splash-screen-dark transition duration-500",children:[Object(h.jsx)(g,{}),Object(h.jsxs)("div",{className:"text-center",children:[Object(h.jsx)("h1",{className:"font-bold text-3xl lg:text-5xl my-8 text-black dark:text-white transition-all duration-500",children:"Your Dashboard"}),Object(h.jsxs)("h1",{className:"font-bold text-3xl lg:text-5xl mt-48 mx-5 text-black dark:text-white transition-all duration-500",children:["You don't have any entries yet,"," ",Object(h.jsx)(x.c,{to:"/entries",className:"text-yellow-500",children:"click here"})," ","to add some"]})]})]})},A=a.p+"static/media/sleep.b40175f2.svg";var W=function(){var e=Object(n.useRef)(null);return Object(n.useEffect)((function(){i.a.from(".text",{opacity:0,duration:1,x:-50,y:-50,stagger:.6,ease:d.b}),i.a.from(".image",{opacity:0,duration:.6,x:-50,ease:d.b}),i.a.from(e,1.4,{opacity:0,y:-50,ease:d.b.easeOut})})),Object(h.jsxs)("div",{className:"h-full md:h-screen splash-screen dark:splash-screen-dark transition duration-500",children:[Object(h.jsx)(g,{}),Object(h.jsxs)("div",{className:"text-center font-bold my-10",ref:function(t){return e=t},children:[Object(h.jsxs)("p",{className:"transition-all duration-500 text-black dark:text-yellow-500 text-4xl lg:text-7xl",children:[Object(h.jsx)("span",{className:"transition-all duration-500 text-yellow-500 dark:text-white",children:"KhoKho"})," ","Tracker"]}),Object(h.jsxs)("p",{className:"transition-all duration-500 text-black dark:text-yellow-500 text-xl md:text-4xl lg:text-5xl my-5",children:["More Than Just A"," ",Object(h.jsx)("span",{className:"transition-all duration-500 text-yellow-500 dark:text-white",children:"Sleep Tracker"})]})]}),Object(h.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 mt-14",children:[Object(h.jsx)("div",{className:"m-auto hidden lg:block image",children:Object(h.jsx)("img",{src:A,alt:""})}),Object(h.jsxs)("div",{className:"text-3xl font-bold mb-8 mr-10 lg:mr-20 text",children:[Object(h.jsx)("p",{className:"text-xs md:text-xl lg:text-xl bg-yellow-400 text-gray-800 dark:text-white text-center p-10 lg:p-8 mt-5 ml-5 lg:-ml-10 mr-5 lg:mr-14 rounded-full",children:"Track your sleep everyday using details such as the date, the time you went to sleep and the time you woke up."}),Object(h.jsxs)("p",{className:"text-xs md:text-xl lg:text-xl bg-gray-600 dark:bg-gray-500 text-yellow-500 dark:text-yellow-400 text-center p-10 lg:p-8 rounded-full my-10 ml-20",children:["Once you have a few entries,"," ",Object(h.jsx)("span",{className:"text-white dark:text-white",children:"KhoKho Tracker"})," ","can offer you some insights about your sleep health."]}),Object(h.jsx)("p",{className:"text-xs md:text-xl lg:text-xl bg-yellow-400 text-gray-800 dark:text-white text-center p-10 lg:p-8 mt-5 ml-5 lg:-ml-10 mr-5 lg:mr-14 rounded-full",children:"With the use of the graph, you can track patterns and bad habits that have been affecting your overall performance"})]})]}),Object(h.jsx)(y,{})]})};var K=function(){return null===localStorage.getItem("theme")&&localStorage.setItem("theme","light"),Object(h.jsx)(j,{children:Object(h.jsx)(x.a,{children:Object(h.jsxs)(x.b,{children:[Object(h.jsx)(o.b,{path:"/",exact:!0,children:Object(h.jsx)(O,{})}),Object(h.jsx)(o.b,{path:"/signup",children:Object(h.jsx)(v,{})}),Object(h.jsx)(o.b,{path:"/login",children:Object(h.jsx)(N,{})}),Object(h.jsx)(o.b,{path:"/entries",children:Object(h.jsx)(B,{})}),Object(h.jsx)(o.b,{path:"/dashboard",children:Object(h.jsx)(M,{})}),Object(h.jsx)(o.b,{path:"/about",children:Object(h.jsx)(W,{})})]})})})};l.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(K,{})}),document.getElementById("root"))},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},86:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){}},[[126,1,2]]]);
//# sourceMappingURL=main.9790419f.chunk.js.map